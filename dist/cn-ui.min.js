"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){angular.module("cn.ui",["angularFileUpload","toaster","ngAnimate","angular-md5","uuid4"])}(),function(){angular.module("cn.ui").directive("checkbox",function(){return{restrict:"C",link:function(n,e){function t(){}n.__tag=new t,"INPUT"===e.prop("tagName")?e.after("<span></span>"):e.find("input[type=checkbox]").after("<span></span>")}}})}(),function(){angular.module("cn.ui").directive("countrySelect",function(){return{link:function(n){function e(){}n.__tag=new e},restrict:"E",template:'<label for="{{id || \'country\'}}">Country</label>                     <select id="{{id || \'country\'}}" ng-model="ngModel" class="form-control">                       <option value="US">United States</option>                       <option value="AF">Afghanistan</option>                       <option value="AL">Albania</option>                       <option value="DZ">Algeria</option>                       <option value="AS">American Samoa</option>                       <option value="AD">Andorra</option>                       <option value="AO">Angola</option>                       <option value="AI">Anguilla</option>                       <option value="AQ">Antarctica</option>                       <option value="AG">Antigua And Barbuda</option>                       <option value="AR">Argentina</option>                       <option value="AM">Armenia</option>                       <option value="AW">Aruba</option>                       <option value="AU">Australia</option>                       <option value="AT">Austria</option>                       <option value="AZ">Azerbaijan</option>                       <option value="BS">Bahamas</option>                       <option value="BH">Bahrain</option>                       <option value="BD">Bangladesh</option>                       <option value="BB">Barbados</option>                       <option value="BY">Belarus</option>                       <option value="BE">Belgium</option>                       <option value="BZ">Belize</option>                       <option value="BJ">Benin</option>                       <option value="BM">Bermuda</option>                       <option value="BT">Bhutan</option>                       <option value="BO">Bolivia</option>                       <option value="BA">Bosnia And Herzegovina</option>                       <option value="BW">Botswana</option>                       <option value="BV">Bouvet Island</option>                       <option value="BR">Brazil</option>                       <option value="IO">British Indian Ocean Territory</option>                       <option value="BN">Brunei Darussalam</option>                       <option value="BG">Bulgaria</option>                       <option value="BF">Burkina Faso</option>                       <option value="BI">Burundi</option>                       <option value="KH">Cambodia</option>                       <option value="CM">Cameroon</option>                       <option value="CA">Canada</option>                       <option value="CV">Cape Verde</option>                       <option value="KY">Cayman Islands</option>                       <option value="CF">Central African Republic</option>                       <option value="TD">Chad</option>                       <option value="CL">Chile</option>                       <option value="CN">China</option>                       <option value="CX">Christmas Island</option>                       <option value="CC">Cocos (keeling) Islands</option>                       <option value="CO">Colombia</option>                       <option value="KM">Comoros</option>                       <option value="CG">Congo</option>                       <option value="CK">Cook Islands</option>                       <option value="CR">Costa Rica</option>                       <option value="CI">Cote D Ivoire</option>                       <option value="HR">Croatia</option>                       <option value="CU">Cuba</option>                       <option value="CY">Cyprus</option>                       <option value="CZ">Czech Republic</option>                       <option value="DK">Denmark</option>                       <option value="DJ">Djibouti</option>                       <option value="DM">Dominica</option>                       <option value="DO">Dominican Republic</option>                       <option value="TP">East Timor</option>                       <option value="EC">Ecuador</option>                       <option value="EG">Egypt</option>                       <option value="SV">El Salvador</option>                       <option value="GQ">Equatorial Guinea</option>                       <option value="ER">Eritrea</option>                       <option value="EE">Estonia</option>                       <option value="ET">Ethiopia</option>                       <option value="FK">Falkland Islands (malvinas)</option>                       <option value="FO">Faroe Islands</option>                       <option value="FJ">Fiji</option>                       <option value="FI">Finland</option>                       <option value="FR">France</option>                       <option value="GF">French Guiana</option>                       <option value="PF">French Polynesia</option>                       <option value="TF">French Southern Territories</option>                       <option value="GA">Gabon</option>                       <option value="GM">Gambia</option>                       <option value="GE">Georgia</option>                       <option value="DE">Germany</option>                       <option value="GH">Ghana</option>                       <option value="GI">Gibraltar</option>                       <option value="GR">Greece</option>                       <option value="GL">Greenland</option>                       <option value="GD">Grenada</option>                       <option value="GP">Guadeloupe</option>                       <option value="GU">Guam</option>                       <option value="GT">Guatemala</option>                       <option value="GN">Guinea</option>                       <option value="GW">Guinea-bissau</option>                       <option value="GY">Guyana</option>                       <option value="HT">Haiti</option>                       <option value="VA">Holy See (vatican City State)</option>                       <option value="HN">Honduras</option>                       <option value="HK">Hong Kong</option>                       <option value="HU">Hungary</option>                       <option value="IS">Iceland</option>                       <option value="IN">India</option>                       <option value="ID">Indonesia</option>                       <option value="IR">Iran, Islamic Republic Of</option>                       <option value="IQ">Iraq</option>                       <option value="IE">Ireland</option>                       <option value="IL">Israel</option>                       <option value="IT">Italy</option>                       <option value="JM">Jamaica</option>                       <option value="JP">Japan</option>                       <option value="JO">Jordan</option>                       <option value="KZ">Kazakstan</option>                       <option value="KE">Kenya</option>                       <option value="KI">Kiribati</option>                       <option value="KP">Korea Democratic Peoples Republic Of</option>                       <option value="KR">Korea Republic Of</option>                       <option value="KW">Kuwait</option>                       <option value="KG">Kyrgyzstan</option>                       <option value="LA">Lao Peoples Democratic Republic</option>                       <option value="LV">Latvia</option>                       <option value="LB">Lebanon</option>                       <option value="LS">Lesotho</option>                       <option value="LR">Liberia</option>                       <option value="LY">Libyan Arab Jamahiriya</option>                       <option value="LI">Liechtenstein</option>                       <option value="LT">Lithuania</option>                       <option value="LU">Luxembourg</option>                       <option value="MO">Macau</option>                       <option value="MK">Macedonia</option>                       <option value="MG">Madagascar</option>                       <option value="MW">Malawi</option>                       <option value="MY">Malaysia</option>                       <option value="MV">Maldives</option>                       <option value="ML">Mali</option>                       <option value="MT">Malta</option>                       <option value="MH">Marshall Islands</option>                       <option value="MQ">Martinique</option>                       <option value="MR">Mauritania</option>                       <option value="MU">Mauritius</option>                       <option value="YT">Mayotte</option>                       <option value="MX">Mexico</option>                       <option value="FM">Micronesia, Federated States Of</option>                       <option value="MD">Moldova, Republic Of</option>                       <option value="MC">Monaco</option>                       <option value="MN">Mongolia</option>                       <option value="MS">Montserrat</option>                       <option value="MA">Morocco</option>                       <option value="MZ">Mozambique</option>                       <option value="MM">Myanmar</option>                       <option value="NA">Namibia</option>                       <option value="NR">Nauru</option>                       <option value="NP">Nepal</option>                       <option value="NL">Netherlands</option>                       <option value="AN">Netherlands Antilles</option>                       <option value="NC">New Caledonia</option>                       <option value="NZ">New Zealand</option>                       <option value="NI">Nicaragua</option>                       <option value="NE">Niger</option>                       <option value="NG">Nigeria</option>                       <option value="NU">Niue</option>                       <option value="NF">Norfolk Island</option>                       <option value="MP">Northern Mariana Islands</option>                       <option value="NO">Norway</option>                       <option value="OM">Oman</option>                       <option value="PK">Pakistan</option>                       <option value="PW">Palau</option>                       <option value="PS">Palestinian Territory, Occupied</option>                       <option value="PA">Panama</option>                       <option value="PG">Papua New Guinea</option>                       <option value="PY">Paraguay</option>                       <option value="PE">Peru</option>                       <option value="PH">Philippines</option>                       <option value="PN">Pitcairn</option>                       <option value="PL">Poland</option>                       <option value="PT">Portugal</option>                       <option value="PR">Puerto Rico</option>                       <option value="QA">Qatar</option>                       <option value="RE">Reunion</option>                       <option value="RO">Romania</option>                       <option value="RU">Russian Federation</option>                       <option value="RW">Rwanda</option>                       <option value="SH">Saint Helena</option>                       <option value="KN">Saint Kitts And Nevis</option>                       <option value="LC">Saint Lucia</option>                       <option value="PM">Saint Pierre And Miquelon</option>                       <option value="VC">Saint Vincent And The Grenadines</option>                       <option value="WS">Samoa</option>                       <option value="SM">San Marino</option>                       <option value="ST">Sao Tome And Principe</option>                       <option value="SA">Saudi Arabia</option>                       <option value="SN">Senegal</option>                       <option value="SC">Seychelles</option>                       <option value="SL">Sierra Leone</option>                       <option value="SG">Singapore</option>                       <option value="SK">Slovakia</option>                       <option value="SI">Slovenia</option>                       <option value="SB">Solomon Islands</option>                       <option value="SO">Somalia</option>                       <option value="ZA">South Africa</option>                       <option value="GS">South Georgia</option>                       <option value="ES">Spain</option>                       <option value="LK">Sri Lanka</option>                       <option value="SD">Sudan</option>                       <option value="SR">Suriname</option>                       <option value="SJ">Svalbard And Jan Mayen</option>                       <option value="SZ">Swaziland</option>                       <option value="SE">Sweden</option>                       <option value="CH">Switzerland</option>                       <option value="SY">Syrian Arab Republic</option>                       <option value="TW">Taiwan, Province Of China</option>                       <option value="TJ">Tajikistan</option>                       <option value="TZ">Tanzania, United Republic Of</option>                       <option value="TH">Thailand</option>                       <option value="TG">Togo</option>                       <option value="TK">Tokelau</option>                       <option value="TO">Tonga</option>                       <option value="TT">Trinidad And Tobago</option>                       <option value="TN">Tunisia</option>                       <option value="TR">Turkey</option>                       <option value="TM">Turkmenistan</option>                       <option value="TC">Turks And Caicos Islands</option>                       <option value="TV">Tuvalu</option>                       <option value="UG">Uganda</option>                       <option value="UA">Ukraine</option>                       <option value="AE">United Arab Emirates</option>                       <option value="GB">United Kingdom</option>                       <option value="UM">United States Minor Outlying Islands</option>                       <option value="UY">Uruguay</option>                       <option value="UZ">Uzbekistan</option>                       <option value="VU">Vanuatu</option>                       <option value="VE">Venezuela</option>                       <option value="VN">Viet Nam</option>                       <option value="VG">Virgin Islands, British</option>                       <option value="VI">Virgin Islands, U.s.</option>                       <option value="WF">Wallis And Futuna</option>                       <option value="EH">Western Sahara</option>                       <option value="YE">Yemen</option>                       <option value="YU">Yugoslavia</option>                       <option value="ZM">Zambia</option>                       <option value="ZW">Zimbabwe</option>                     </select>',scope:{id:"&?",ngModel:"="}}})}(),function(){function n(){return{restrict:"E",scope:{cnUploadPath:"=",ngModel:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0,template:'        <file-upload class="col-sm-6"                     btn-text="Upload CSV"                     accept=".csv"                     on-file-select="vm.uploadFile($files)">        </file-upload>      '}}function e(n,e,t,o){function i(){}n.__tag=new i,n.$watch("vm.ngModel",function(e,t){n.onChange&&n.onChange({$value:e}),n.$parent.$parent.ngModel&&n.$parent.$parent.ngModel.$setValidity("schemaForm",!0),n.$parent.$parent.form.required&&n.$parent.$parent.ngModel.$setValidity("tv4-302",!_.isEmpty(n.vm.ngModel)),angular.equals(e,t)||n.$parent.$parent.ngModel.$setDirty()})}function t(n,e,t,o,i,a){function l(t){var i=n.defer();i.promise.then(r,s);var a=new FormData;a.append("csv",t[0]),$.ajax({url:u.cnUploadPath,headers:e.defaults.headers.common,data:a,processData:!1,contentType:!1,type:"POST",success:i.resolve,error:i.reject}),o.start()}function r(n){o.complete(),u.ngModel=n}function s(n){var e=JSON.parse(n.responseText);i.$broadcast(a.httpError,{status:e.status,errors:[{data:e.error}]}),o.complete()}var u=this;u.uploadFile=l}angular.module("cn.ui").directive("csvUpload",n),t.$inject=["$q","$http","$sce","cfpLoadingBar","$rootScope","EVENTS"]}(),function(){function n(){function n(n,e,t,o){function i(){}function a(){c&&(c=s(c),e.attr("placeholder",c)),e.on("blur",l),o.$parsers.unshift(r),o.$formatters.unshift(function(n){return o.$setDirty(),s(n)})}function l(n){if(/\.\d$/.test(e[0].value))return e[0].value+="0";var t=e[0].value.match(/(\d*\.\d{2})(.+)/);t&&(e[0].value=t[1])}function r(n){if(!n)return n;var e=parseFloat(n.replace(/\,/g,""));return"cents"===u?_.multiply(e,100):"microcents"===u?_.multiply(e,1e6):e}function s(n){return n=n?"cents"===u?_.round(n/100,2)||"":"microcents"===u?_.round(n/1e6,2)||"":_.round(n,2)||"":"",/\.\d$/.test(n)?n+"0":n}if(n.__tag=new i,o){var u=t.cnCurrencyFormat,c=t.cnCurrencyPlaceholder;n.$on("$destroy",function(){e.off("blur",l)}),a()}}return{require:"?ngModel",link:n}}angular.module("cn.ui").directive("cnCurrencyFormat",n)}(),function(){angular.module("cn.ui").directive("fileUpload",function(){return{restrict:"E",replace:!0,scope:{btnStyle:"@",cnDisabled:"=",iconStyle:"@",callback:"&onFileSelect",inputId:"@",btnText:"@",accept:"@"},template:'<div class="file-wrapper">                       <button class="btn btn-file {{btnStyle}}" ng-disabled="cnDisabled">                         <i ng-if="iconStyle" class="{{iconStyle}}"></i> {{btnText}}                       </button>                       <input type="file" id="{{inputId}}" class="form-control" accept="{{accept}}"                              ng-file-select="onFileSelect($files)"/>                     </div>',compile:function(n,e){return e.btnStyle=/btn-(primary|success|info|warning|danger|link)/.test(e.btnStyle)?e.btnStyle:e.btnStyle+" btn-default",e.inputId=e.inputId||"file-"+_.uniqueId(),e.btnText=e.btnText||"Choose a file...",e.cnDisabled&&(e.disabled=!0),function(n,e){function t(){}function o(){a.click()}n.__tag=new t;var i=e.find("button"),a=e.find("input");i.on("click",o),n.$on("$destroy",function(){i.off("click",o),i=null,a=null}),n.onFileSelect=function(e){n.callback({$files:e})}}}}})}(),function(){function n(n){return function(e,t){function o(n){return angular.isFunction(n.toString)&&n.toString!==Object.prototype.toString}return n("filter")(e,t,function(n,e){if(angular.isUndefined(n))return!1;if(null===n||null===e)return n===e;if(n.toString().startsWith("__uniqueid"))return!1;if(angular.isObject(e)||angular.isObject(n)&&!o(n))return!1;n=angular.lowercase(""+n),e=angular.lowercase(""+e).split(" ");var t=!0;return _.each(e,function(e){n.indexOf(e)===-1&&(t=!1)}),t})}}function e(){return function(n){return n=void 0===n||null===n?"":n,n.toString().toLowerCase().replace(/_|-/g," ").replace(/\b([a-z])/g,function(n){return n.toUpperCase()})}}function t(){return function(n,e,t){return n=_.range(e,t)}}function o(){return function(n){return new Date(moment(n).toISOString())}}function i(n){return function(e){return n.trustAs(e)}}function a(n){return function(e){return n.trustAsHtml(e)}}function l(){return function(n,e){return e&&e.length?n.filter(function(n){var t=!1;return e.forEach(function(e){var o=n[e.key];if(_.isObject(o)){var i={};if(i[e.childKey||e.key]=e.value,_.find(o,i))return t=!0}else if(o==e.value)return t=!0}),t}):n}}function r(){return function(n,e){e=e||"";var t=moment(n),o="";return t&&t.isValid()&&(o="calendar"==e?t.calendar():t.format(e)),o}}function s(){return function(n,e){e=e||1e4;var t,o=parseFloat(n);if("number"==typeof o)return t=Math.round(o*e)/100,t+"%"}}function u(){var n=/([\:\-\_]+(.))/g,e=/^moz([A-Z])/;return function(t){return t.replace(n,function(n,e,t,o){return o?t.toUpperCase():t}).replace(e,"Moz$1")}}function c(){return function(n,e,t){t=t||"asc",e=e;var o=[];Object.keys(n).forEach(function(e){o.push(n[e])});var i=function(n){return n[e]};return"asc"==t?o.sort(function(n,e){return i(n)>i(e)?1:i(n)<i(e)?-1:0}):o.sort(function(n,e){return i(e)-i(n)}),o}}function p(){return function(n,e,t){if(isNaN(e))return n;if(e<=0)return"";if(n&&n.length>=e){if(n=n.substring(0,e),t)for(;" "==n.charAt(n.length-1);)n=n.substr(0,n.length-1);else{var o=n.lastIndexOf(" ");o!==-1&&(n=n.substr(0,o))}return n+"..."}return n}}function d(){return function(n){var e=Number(n);return isNaN(e)?0:e}}function v(){return function(n,e){var t,o,i,a,l;if(n)return t=n.toString(),t.length-e>=0?(o=t.length-e>0?t.length-e:0,i=t.substring(0,o),a=t.substring(o),l=i+"."+a,Number(l)):n}}function f(){return function(n){return n?String(n).replace(/<[^>]+>/gm,""):""}}angular.module("cn.ui").filter("cnFilter",n).filter("titleCase",e).filter("range",t).filter("toDateObject",o).filter("trustAs",i).filter("trustAsHtml",a).filter("selectedItems",l).filter("momentjs",r).filter("percent",s).filter("camelCase",u).filter("sortBy",c).filter("truncate",p).filter("toNumber",d).filter("toDecimal",v).filter("stripHtml",f),n.$inject=["$filter"],i.$inject=["$sce"],a.$inject=["$sce"]}(),function(){function n(){return{restrict:"E",template:'\n        <div class="cn-heading cn-mast-head">\n          <div class="cn-mast-head-inner">\n            <div class="cn-mast-head-main">\n              <div class="cn-heading-title">\n                <a ng-if="vm.config.backState"\n                   class="cn-heading-back"\n                   ui-sref="{{vm.config.backState}}">\n                  <i ng-show="vm.config.backState" class="icn-back"></i>\n                </a>\n                <h1 ng-hide="vm.config.dropdown">\n                  {{vm.config.title}}\n                </h1>\n                <h1 ng-show="vm.config.dropdown" data-toggle="dropdown">\n                  <a>\n                    {{vm.config.title}}\n                    <i ng-show="vm.config.dropdown" class="icn-caret"></i>\n                  </a>\n                </h1>\n                <ul ng-if="vm.config.dropdown"\n                    class="dropdown-menu row"\n                    ng-class="vm.config.dropdown.style"\n                    style="width: {{vm.config.dropdown.lists.length * 250}}px"\n                    role="menu">\n                  <div ng-repeat="list in vm.config.dropdown.lists"\n                       style="width: 250px">\n                    <li class="{{list.style}}">\n                      <div class="input-group">\n                        <input ng-model="list.filter"\n                               class="form-control"\n                               placeholder="{{list.name}}"/>\n                        <span class="input-group-addon">\n                          <i class="icn-search"></i>\n                        </span>\n                      </div>\n                    </li>\n                    <li class="divider"></li>\n                    <li ng-repeat="item in list.items | filter:list.filter"\n                        class="{{list.style}} {{item.style}}">\n                      <a ng-show="item.name"\n                         ng-click="list.handler(item)"\n                         ng-class="{\'selected\': list.isSelected(item)}">{{item.name}}</a>\n                    </li>\n                  </div>\n                </ul>\n              </div>\n  \n              <div ng-show="vm.config.options"\n                   class="pull-right btn-options">\n                <span ng-repeat="btn in vm.config.options">\n                  <a ng-if="btn.state"\n                     class="btn btn-sm btn-transparent"\n                     ui-sref="{{btn.state}}"\n                     title="{{btn.title}}">\n                    <i class="{{btn.icon}}"/>\n                  </a>\n                  <a ng-if="btn.href"\n                     class="btn btn-sm btn-transparent"\n                     ng-href="{{btn.href}}"\n                     title="{{btn.title}}">\n                    <i class="{{btn.icon}}"/>\n                  </a>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="cn-mast-head-sub">\n            <div class="cn-mast-head-inner">\n              <ul class="tabs" ng-if="vm.config.tabs && vm.config.tabs.length">\n                <li ng-repeat="tab in vm.config.tabs"\n                    ng-class="{active: tab.active}"\n                    class="{{tab.style}}">\n                  <a ng-if="tab.state"\n                     ui-sref="{{tab.state}}">\n                    <i ng-show="tab.active" class="{{tab.icon}}"/>\n                    {{tab.name}}\n                  </a>\n                  <span ng-if="!tab.state">\n                    {{tab.name}}\n                  </span>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class="cn-mast-actions">\n            <div class="cn-mast-head-inner">\n              <div class="cn-actions"\n                   ng-if="vm.floater"\n                   ng-mouseenter="vm.toggleFloaters(false)"\n                   ng-mouseleave="vm.toggleFloaters(true)">\n                <floating-action-button\n                  ng-mouseenter="vm.floater.showTitle = true"\n                  ng-mouseleave="vm.floater.showTitle = false">\n                  <a class="btn {{vm.hideFloaters ? \'\' : vm.floater.style}}"\n                     ui-sref="{{vm.floater.state}}">\n                     <i ng-show="vm.floater.icon && !vm.hideFloaters"\n                        class="{{vm.floater.icon}}"></i>\n                     <span ng-show="vm.floater.text && vm.hideFloaters" class="text">\n                       {{vm.floater.text}}\n                     </span>\n                     <span ng-hide="vm.floater.icon || vm.floater.text || vm.hideFloaters">\n                       {{vm.floater.symbol || \'+\'}}\n                     </span>\n                     <span ng-show="vm.hideFloaters">+</span>\n                  </a>\n                  <span class="fab-title"\n                        ng-show="vm.floater.showTitle && vm.floater.title">\n                    {{vm.floater.title}}\n                  </span>\n                </floating-action-button>\n                <div class="cn-floaters" style="height: {{vm.floatersHeight}}">\n                  <div class="cn-floaters-inner">\n                    <floating-action-button\n                      ng-repeat="btn in vm.floaters"\n                      ng-mouseenter="btn.showTitle = true"\n                      ng-mouseleave="btn.showTitle = false">\n                      <a ng-show="btn.state"\n                         class="btn {{btn.style}}"\n                         ui-sref="{{btn.state}}">\n                         <i ng-show="btn.icon" class="{{btn.icon}}"></i>\n                         <span ng-show="btn.text" class="text">{{btn.text}}</span>\n                         <span ng-show="btn.symbol">{{btn.symbol}}</span>\n                       </a>\n                      <span class="fab-title"\n                            ng-show="btn.showTitle && btn.title">\n                        {{btn.title}}\n                      </span>\n                    </floating-action-button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>',scope:{config:"="},link:function(n,e){n.vm.elem=e},controller:e,controllerAs:"vm",bindToController:!0}}function e(n){"ngInject";function e(){}function t(n){o.floatersHeight=n?0:o.elem.find(".cn-floaters-inner").outerHeight()+"px",o.hideFloaters=n}n.__tag=new e,n.$on("$destroy",function(){_.forOwn(o,function(n,e,t){return t[e]=null}),o=null});var o=this;o.floater=_.first(o.config.actions),o.floaters=_.rest(o.config.actions),o.floatersHeight=0,o.hideFloaters=!0,o.toggleFloaters=t}e.$inject=["$scope"],angular.module("cn.ui").directive("cnMastHead",n)}(),function(){function n(n){function e(e,t,o){function i(){}function a(){if(console.log(":: activate called ::"),r=l()){if(t.height(""),s=r.scrollHeight,t.height(s),angular.element(r).find("img").on("load",a),!u){++u;var e=[n(a,200),n(a,500),n(a,1e3),n(a,1500),n(a,3500),n(a,5e3),n(a,7500),n(a,1e4)];c=c.concat(e)}}else c=c.concat([n(a,100)])}function l(){return t.get(0).contentDocument&&t.get(0).contentDocument.body}e.__tag=new i;var r,s,u,c=[];e.$watch(function(){return o.ngSrc},function(){o.ngSrc&&(u=0,c=c.concat(n(a,100)))}),e.$on("$destroy",function(){angular.element(r).find("img").off("load",a),r=null,_.each(c,function(e){return n.cancel(e)}),_.empty(c),c=null})}return{restrict:"A",link:e}}angular.module("cn.ui").directive("cnIframeHeight",n),n.$inject=["$timeout"]}(),function(){angular.module("cn.ui").directive("linkToFacebook",function(){return{restrict:"E",replace:!0,template:'<a href="{{ link }}" target="_blank" ng-show="link" ng-click="$event.stopPropagation();">                       {{text}}                       <span class="glyphicon glyphicon-new-window small"></span>                     </a>',scope:{fbObject:"=",text:"@?"},link:function(n){function e(){}n.__tag=new e,n.fbObject.twitterLink?n.link=n.fbObject.twitterLink:_.has(n.fbObject,"platforms")&&n.fbObject.platforms.origin&&(n.link=n.fbObject.platforms.origin)}}})}(),function(){angular.module("cn.ui").directive("cnLoadingBar",function(){return{restrict:"E",replace:!0,scope:{run:"="},template:'<div><cn-progress-bar cn-limit="1" cn-progress="progress"></cn-progress-bar></div>',controller:["$scope","$interval",function(n,e){function t(){}function o(){n.interval=e(function(){n.progress=n.progress+n.numerator/n.denominator,n.denominator=n.denominator+2/n.counter,n.counter=.66*n.counter},500)}function i(){e.cancel(n.interval),n.progress=100}n.__tag=new t,n.progress=0,n.counter=1,n.numerator=1,n.denominator=3,n.$watch("run",function(e,t){e!==t&&(n.run?o():i())}),n.$on("$destroy",function(){i()})}]}})}();var _extends=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n};!function(){function n(){return{restrict:"E",scope:{cnUploadPath:"=",cnFileType:"=",cnPreviewPath:"=",cnModelValueKey:"=",ngModel:"=",cnDisabled:"=",cnExistingPreview:"=",cnForm:"=",cnData:"=",cnKey:"=",cnImagePreviews:"=",cnTextButton:"="},controller:e,controllerAs:"vm",bindToController:!0,template:'        <div class="img-placeholder col-sm-6" ng-class="{ empty: !vm.filePath }">          <img ng-if="vm.cnFileType === \'image\'" ng-src="{{vm.filePath}}"/>          <video ng-if="vm.cnFileType === \'video\' && vm.filePath"                 ng-src="{{vm.filePath}}"                 controls="controls" preload="none"/>        </div>        <file-upload class="col-sm-6"                     btn-text="{{ vm.cnTextButton != undefined ? vm.cnTextButton : (\'Upload \' +  (vm.cnFileType | titleCase))}}"                     cn-disabled="vm.cnDisabled"                     on-file-select="vm.uploadFile($files)">        </file-upload>      '}}function e(n,e,t,o,i,a,l){function r(){}function s(){if(g.cnUploadPath.includes("api/v2/media/upload")&&g.ngModel){var n=["jpg","jpeg","png","webp","tiff","raw","heic","svg","eps"],e=new URL(g.ngModel),o=e.pathname.split(".")[1].toLowerCase();g.cnFileType=n.includes(o)?"image":"video"}g.cnExistingPreview?g.filePath=t.trustAsResourceUrl("/uploads/facebook/"+g.cnExistingPreview):"image"===g.cnFileType&&g.ngModel?g.filePath=t.trustAsResourceUrl(g.ngModel):"video"===g.cnFileType&&g.ngModel&&(g.ngModel.media?g.filePath=t.trustAsResourceUrl(g.ngModel.media):g.ngModel.video_url?g.filePath=t.trustAsResourceUrl(g.ngModel.video_url):g.filePath=t.trustAsResourceUrl(g.ngModel));
}function u(){"image"===g.cnFileType&&g.ngModel&&g.ngModel.includes&&g.ngModel.includes("/")?g.filePath=t.trustAsResourceUrl(g.ngModel):"video"===g.cnFileType&&g.ngModel?g.ngModel.media?g.filePath=t.trustAsResourceUrl(g.ngModel.media):g.ngModel.video_url?g.filePath=t.trustAsResourceUrl(g.ngModel.video_url):g.filePath=t.trustAsResourceUrl(g.ngModel):_.get(g.cnImagePreviews,g.cnKey)&&(g.filePath=t.trustAsResourceUrl(_.get(g.cnImagePreviews,g.cnKey)))}function c(e){var t=n.defer();t.promise.then(d)["catch"](v);var i=e[0];if(i.type.includes("image")?g.cnFileType="image":i.type.includes("video")?g.cnFileType="video":g.cnFileType=i.type.slice(0,i.type.indexOf("/")),!g.cnUploadPath.includes("twitter")&&i.type.includes("image")){var a=i.size;if(a>52428800){var r="The image you are trying to upload is too big. The max size is 50 MB";t.reject({responseText:JSON.stringify({error:r})})}}else var a=2097152;var s=new FileReader;s.readAsArrayBuffer(i),s.onload=function(n){var e=SparkMD5.ArrayBuffer.hash(n.target.result);p(i,0,a,t,l.generate(),e)},o.start()}function p(n,t,o,i,a,l){var r=n.size,s=n.slice(t,t+o),u=new FormData;u.append("mediaType",n.type),g.cnUploadPath.includes("api/v2/media/upload")?(u.append("content_hash",l),u.append("file",s)):(u.append("fileHash",l),u.append("filename",n.name),u.append("uuid",a),u.append(g.cnFileType,s)),_.each(g.cnData,function(n,e){n&&u.append(e,n)});var c=Math.min(t+o,r),d=_extends({"Content-Range":"bytes "+t+"-"+c+"/"+r},e.defaults.headers.common);$.ajax({url:g.cnUploadPath,headers:d,data:u,processData:!1,contentType:!1,type:"POST",success:function(e){e.media_object||e.cn_preview_url||e.media_url||e.path?i.resolve(e):t+o<r&&p(n,t+o,o,i,a,l)},error:i.reject})}function d(n){o.complete(),g.cnImagePreviews&&delete g.cnImagePreviews[g.cnKey],g.cnModelValueKey=g.cnModelValueKey||g.cnForm.valueProperty,g.ngModel=n[g.cnModelValueKey||"media_id_string"],g.filePath=t.trustAsResourceUrl(n[g.cnPreviewPath||"cn_preview_url"]),i.$emit("cnMediaUpload.uploaded",{cn_preview_url:n[g.cnPreviewPath||"cn_preview_url"],media_key:n.media_key});var e=f(i);e&&_.each(e.$error,function(n,t){e.$setValidity(t,!0)})}function v(n){o.complete();var e=JSON.parse(n.responseText).error;i.$emit("citizenNet:toastEvent",{directiveData:{type:"error",body:e}})}function f(n){return n.ngModel?n.ngModel:n.$parent?f(n.$parent):null}i.__tag=new r;var g=this;g.uploadFile=c,i.$watch("vm.ngModel",u),s()}angular.module("cn.ui").directive("mediaUpload",n),e.$inject=["$q","$http","$sce","cfpLoadingBar","$scope","md5","uuid4"]}(),function(){function n(n,e){function t(t){return o.onChangeState=e.$on("$stateChangeStart",function(){o.onChangeState(),o.modal&&o.modal.close()}),o.modal=n.open(t),o.modal}var o={onChangeState:null,open:t};return o}angular.module("cn.ui").factory("cnModal",n),n.$inject=["$modal","$rootScope"]}(),function(){function n(n){"ngInject";function e(e,t,o,i){function a(){}function l(){i.$parsers.unshift(r),i.$formatters.unshift(function(n){return i.$setDirty(),s(n)})}function r(n){return console.log("parseNum",n),parseFloat(n.replace(/\D*/g,""),10)}function s(e){return console.log("formatNum",e),n("number")(e)}e.__tag=new a,i&&l()}return{require:"?ngModel",link:e}}n.$inject=["$filter"],angular.module("cn.ui").directive("cnNumber",n)}(),function(){function n(n){"$inject";return{restrict:"A",link:function(e,t,o){function i(){}e.__tag=new i;var a=n(o.cnOnerror);t[0].onerror=function(n,t){return a(e,{param:t})}}}}n.$inject=["$parse"],angular.module("cn.ui").directive("cnOnerror",n)}(),function(){function n(){return{restrict:"E",replace:!0,template:'          <div class="cn-pagination clearfix"><div ng-if="paging">            <div class="btn-group" ng-if="count">              <button type="button"                       class="btn btn-sm btn-primary dropdown-toggle"                       data-toggle="dropdown">                {{count}} Results <span class="caret"></span>              </button>              <ul class="dropdown-menu" role="menu">                <li><a ng-click="onClick(1, 10)">10 Results</a></li>                <li><a ng-click="onClick(1, 25)">25 Results</a></li>                <li><a ng-click="onClick(1, 50)">50 Results</a></li>              </ul>            </div>            <ul class="pagination" ng-if="pages.length > 1">              <li ng-repeat="page in pages"                  ng-class="{active: page.active}">                <a ng-if="!page.disabled"                   ng-click="page.skip && onClick(page.skip)">{{page.label}}</a>                <span ng-if="page.disabled">{{page.label}}</span>              </li>            </ul>          </div></div>',scope:{paging:"=",onClick:"=",count:"=?"},link:function(n){function e(){}function t(n){var e=[],t=n.skip<4?1:n.skip>n.last-3?n.last-4:n.skip-2,o=n.last+1>t+5?t+5:n.last+1;for(1!==n.skip&&e.push({label:"←",skip:n.skip-1}),1<t&&(e.push({label:1,skip:1}),e.push({label:"...",disabled:!0}));t<o;t++)e.push({label:t,active:t===n.skip,skip:t});return n.last>=o&&(e.push({label:"...",disabled:!0}),e.push({label:n.last,skip:n.last})),n.skip!==n.last&&e.push({label:"→",skip:n.skip+1}),e}n.__tag=new e,n.$watch("paging",function(){n.paging&&(n.pages=t(n.paging))})}}}angular.module("cn.ui").directive("cnPagination",n)}(),function(){function n(n,e){function t(t,o){function i(){}function a(){o.width(r.width())}t.__tag=new i;var l=angular.element(n),r=o.parent();t.$on("$destroy",function(){l.off("resize",a),l=null,r=null}),l.on("resize",a),a(),e(a,250)}return{restrict:"A",link:t}}angular.module("cn.ui").directive("cnParentWidth",n),n.$inject=["$window","$timeout"]}(),function(){function n(){function n(n,e,t,o){function i(){}n.__tag=new i,o&&(o.$parsers.unshift(function(){return _.divide(e[0].value,100)}),o.$formatters.unshift(function(){return e[0].value=100*o.$modelValue,e[0].value}))}return{require:"?ngModel",link:n}}angular.module("cn.ui").directive("cnPercentageFormat",n)}(),function(){angular.module("cn.ui").directive("cnProgressBar",function(){return{restrict:"E",replace:!0,scope:{limit:"=cnLimit",projected:"=cnProjected",progress:"=cnProgress",flexWidth:"=cnProgressBarFlexWidth"},template:'<div class="cn-progress-container {{flexWidth ? \'flex-width\' : \'\'}}">                       <div class="cn-projected-bar"                             ng-class="{\'cn-progress-over\': limit && projected > limit}">                         <div class="cn-progress-bar"                               ng-class="{\'cn-progress-over\': limit && progress > limit}"></div>                       </div>                     </div>',link:function(n,e){function t(){}function o(n,e){return(e?_.percentage(n,e):100)+"%"}n.__tag=new t;var i=e.find(".cn-projected-bar"),a=e.find(".cn-progress-bar");n.$on("$destroy",function(){i=null,a=null}),n.$watch(function(){return""+n.limit+n.projected+n.progress},function(){i.css("width",o(n.projected||n.progress,n.limit)),a.css("width",o(n.progress,n.projected))})}}})}(),function(){angular.module("cn.ui").directive("radio",function(){return{restrict:"C",link:function(n,e){function t(){}n.__tag=t(),"INPUT"===e.prop("tagName")?e.after("<span></span>"):e.find("input[type=radio]").after("<span></span>")}}})}(),function(){function n(n,e){function t(t,o,i){function a(){}function l(){if(n.innerWidth>s){var t=o.offset().top;if(t<0)e(l,500);else{var a=i.cnResponsiveHeight||0,u=r.height()-t-a,c=i.cnResponsiveOverflow||"auto";u=u?u+"px":"auto",_.has(i,"cnSetMaxHeight")?o.css({"max-height":u,overflow:c}):o.css({height:u,overflow:c})}}else o.css({height:""})}if(t.__tag=new a,console.log("attrs.cnResponsiveHeight",i.cnResponsiveHeight),"false"!==i.cnResponsiveHeight){t.$on("$destroy",function(){s=null,r.off("resize",l),r=null});var r=angular.element(n),s={sm:768,md:992,lg:1200}[i.cnResponsiveBreak]||0;r.on("resize",l),e(l,250),e(l,500)}}var o={restrict:"EA",link:t};return o}angular.module("cn.ui").directive("cnResponsiveHeight",n),n.$inject=["$window","$timeout"]}();var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();!function(){var n=function(){function n(e){"ngInject";var t=this;_classCallCheck(this,n),this.FREQ={SECONDLY:"SECONDLY",MINUTELY:"MINUTELY",DAILY:"DAILY",WEEKLY:"WEEKLY",MONTHLY:"MONTHLY",YEARLY:"YEARLY"},this.WEEKDAY={MO:"MO",TU:"TU",WE:"WE",TH:"TH",FR:"FR",SA:"SA",SU:"SU"},this.state={BIWEEKLY:{freq:this.FREQ.WEEKLY,interval:2,by:[this.WEEKDAY.MO,this.WEEKDAY.FR],_option:"BIWEEKLY"},BOM:{freq:this.FREQ.MONTHLY,interval:1,by:[1],_option:"BOM"},DAILY:{freq:this.FREQ.DAILY,interval:1,_option:"DAILY"},EOM:{freq:this.FREQ.MONTHLY,interval:1,by:[-1],_option:"EOM"},MONTHLY:{freq:this.FREQ.MONTHLY,interval:1,by:[14],_option:"MONTHLY"},WEEKLY:{freq:this.FREQ.WEEKLY,interval:1,by:[this.WEEKDAY.MO],_option:"WEEKLY"},WORKDAY:{freq:this.FREQ.DAILY,interval:1,by:_(this.WEEKDAY).keys().reject(function(n){return _.eq(n,t.WEEKDAY.SA)||_.eq(n,t.WEEKDAY.SU)}).value(),_option:"WORKDAY"}},this.keyedWeekDays=_.map(this.WEEKDAY,function(n,e){return{name:t.showWeekDay(e),value:e}}),e.$watch(function(){return t.model},function(n){return t.ngModel.$setViewValue(n)})}return n.$inject=["$scope"],_createClass(n,[{key:"$onInit",value:function(){var n=this;this.ngModel.$render=function(){var e=n.ngModel.$viewValue,t=_.get(e,"_option");_.isObject(e)&&_.isString(t)?(_.assign(n.state[t],e),n.model=n.state[t]):n.model=n.state.WEEKLY}}},{key:"handleChangeBiWeekly",value:function(n){_.set(this.state.BIWEEKLY,"by",n)}},{key:"handleChangeWeekly",value:function(n){_.set(this.state.WEEKLY,"by",[n])}},{key:"showWeekDay",value:function(n){return{MO:"Monday",TU:"Tuesday",WE:"Wednesday",TH:"Thursday",FR:"Friday",SA:"Saturday",SU:"Sunday"}[n]}}]),n}(),e={bindings:{form:"<"},controller:n,controllerAs:"schedule",require:{ngModel:"^ngModel"},template:'\n      <div class="form-group">\n        <div class="btn-group clearfix">\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.WEEKLY">\n              Every\n              &nbsp;\n              <div class="btn-group"\n                   uib-dropdown\n                   is-open="weeklyIsOpen">\n                <button type="button"\n                        class="btn btn-primary"\n                        uib-dropdown-toggle\n                        ng-disabled="schedule.model._option !== \'WEEKLY\'"\n                        style="background-color: #DEDEDE; color: black;">\n                  {{ schedule.showWeekDay(schedule.state.WEEKLY.by[0]) }}\n                  &nbsp;\n                  <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu"\n                    uib-dropdown-menu\n                    role="menu"\n                    aria-labelledby="single-button">\n                  <li role="menuitem"\n                      ng-click="schedule.handleChangeWeekly(wd.value)"\n                      ng-repeat="wd in schedule.keyedWeekDays track by wd.value">\n                    <a>{{ wd.name }}</a>\n                  </li>\n                </ul>\n              </div>\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.BIWEEKLY">\n              Every\n              &nbsp;\n              <div class="btn-group"\n                   uib-dropdown\n                   is-open="biWeeklyXIsOpen">\n                <button type="button"\n                        class="btn btn-primary"\n                        uib-dropdown-toggle\n                        ng-disabled="schedule.model._option !== \'BIWEEKLY\'"\n                        style="background-color: #DEDEDE; color: black;">\n                  {{ schedule.showWeekDay(schedule.state.BIWEEKLY.by[0]) }}\n                  &nbsp;\n                  <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu"\n                    uib-dropdown-menu\n                    role="menu"\n                    aria-labelledby="single-button">\n                  <li role="menuitem"\n                      ng-hide="wd.value === schedule.state.BIWEEKLY.by[1]"\n                      ng-click="schedule.handleChangeBiWeekly([wd.value, schedule.state.BIWEEKLY.by[1]])"\n                      ng-repeat="wd in schedule.keyedWeekDays track by wd.value">\n                    <a>{{ wd.name }}</a>\n                  </li>\n                </ul>\n              </div>\n              &nbsp;\n              and\n              &nbsp;\n              <div class="btn-group"\n                   uib-dropdown\n                   is-open="biWeeklyYIsOpen">\n                <button type="button"\n                        class="btn btn-primary"\n                        uib-dropdown-toggle\n                        ng-disabled="schedule.model._option !== \'BIWEEKLY\'"\n                        style="background-color: #DEDEDE; color: black;">\n                  {{ schedule.showWeekDay(schedule.state.BIWEEKLY.by[1]) }}\n                  &nbsp;\n                  <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu"\n                    uib-dropdown-menu\n                    role="menu"\n                    aria-labelledby="single-button">\n                  <li role="menuitem"\n                      ng-hide="wd.value === schedule.state.BIWEEKLY.by[0]"\n                      ng-click="schedule.handleChangeBiWeekly([schedule.state.BIWEEKLY.by[0], wd.value])"\n                      ng-repeat="wd in schedule.keyedWeekDays track by wd.value">\n                    <a>{{ wd.name }}</a>\n                  </li>\n                </ul>\n              </div>\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.WORKDAY">\n              Weekdays\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.DAILY">\n              Daily\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.BOM">\n              Beginning of Month\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.EOM">\n              End of Month\n            </input>\n          </label>\n\n          <label class="radio radio-block">\n            <input type="radio"\n                   ng-model="schedule.model"\n                   ng-value="schedule.state.MONTHLY">\n              Every\n              &nbsp;\n              <input max="31"\n                     min="1"\n                     ng-disabled="schedule.model._option !== \'MONTHLY\'"\n                     ng-model-options="{ debounce: 300 }"\n                     ng-model="schedule.state.MONTHLY.by[0]"\n                     step="1"\n                     style="width: 50px; text-align: center;"\n                     type="number"\n                     class="form-control" />\n              &nbsp;\n              of the month\n            </input>\n          </label>\n        </div>\n      </div>\n    '};angular.module("cn.ui").component("cnSchedule",e)}(),function(){function n(){return{restrict:"E",template:function(n,e){console.log("template:",n,e);var t='          <div class="cn-select-or" ng-disabled="vm.disabled">            <p ng-show="vm.selectFrom.length" class="toggle-view">              <a ng-click="vm.toggleView()">                {{vm.view === \'list\' ? vm.toggleText.list : vm.toggleText.new}}              </a>            </p>            <div ng-show="vm.form.view === \'new\'" ng-transclude/>            <div ng-show="vm.form.view === \'list\'" class="cn-list">              <table class="list-group table card-flex">                <tr ng-repeat="item in vm.partSelectFrom"                    selection-model                    selection-model-type="checkbox"                    selection-model-cleanup-strategy="deselect"                    selection-model-selected-items="vm.selected">                  <td class="col-sm-1 text-center">                    <span class="checkbox">                      <input type="checkbox" id="checkbox{{ item.id }}" selection-model-ignore="false"/>                    </span>                  </td>                  <td class="col-sm-11" ng-bind-html="vm.processTemplate(item)"></td>                </tr>              </table>              <div style="display: flex; justify-content: flex-end">                <a ng-click="vm.showMore()">show more</a>              </div >            </div>          </div>        ';return t},transclude:!0,scope:{selectFrom:"=",ngModel:"=",form:"=ffForm",directiveId:"=",toggleText:"=",disabled:"=",itemTemplate:"="},require:"ngModel",link:e,controller:t,controllerAs:"vm",bindToController:!0}}function e(n,e,t,o){function i(){}function a(n,e){angular.equals(n,e)||(o.$setDirty(),l.form.required&&o.$setValidity("tv4-302",!!n))}n.__tag=new i;var l=n.vm;n.$watch("vm.ngModel",a,!0)}function t(n,e,t){function o(){s.form.schema._required=_.clone(s.form.schema.required)}function i(n){return e.trustAsHtml(t(s.itemTemplate)(n))}function a(){s.setValue(_.first(s.selected)||null)}function l(n){n&&(n="object"===s.form.schema.type?n:n[s.form.valueProperty||"value"]),s.ngModel=n}function r(){s.form.view="new"===s.form.view?"list":"new",s.selected[0]&&(s.selected[0].selected=!1,s.selected.length=0)}var s=this;s.selected=[],s.form.view=s.form.view||"new",s.activate=o,s.onSelectionChange=a,s.processTemplate=i,s.setValue=l,s.toggleView=r;var u=20;s.partSelectFrom=s.selectFrom.slice(0,u),s.showMore=function(){u+=20,s.partSelectFrom=s.selectFrom.slice(0,u)},n.$watch("vm.selected.length",s.onSelectionChange),s.activate()}angular.module("cn.ui").directive("cnSelectOr",n),t.$inject=["$scope","$sce","$interpolate"]}();var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();!function(){var n=function(){function n(e,t,o){"ngInject";function i(){}_classCallCheck(this,n),o.__tag=new i,this.$element=e,this.$timeout=t}return n.$inject=["$element","$timeout","$scope"],_createClass(n,[{key:"$onInit",value:function(){this.$element.addClass("animated fast animated-width"),this.toggleShow()}},{key:"$onChanges",value:function(n){n.show&&this.toggleShow()}},{key:"toggleShow",value:function(){var n=this;this.show?this.$timeout(function(){n.$element.removeClass(n.hideClass).addClass(n.showClass)},this.showDelay||0):this.$timeout(function(){n.$element.removeClass(n.showClass).addClass(n.hideClass)},this.hideDelay||0)}}]),n}(),e={controller:n,controllerAs:"shelf",bindings:{show:"<",showClass:"@",hideClass:"@",showDelay:"<",hideDelay:"<"}};angular.module("cn.ui").component("cnShelf",e)}();var _extends=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n};!function(){function n(n,e,t){function o(){}function i(n){switch(n){case"success":return"icn-thumbsup";case"warning":return"icn-error";case"danger":return"icn-error";case"error":return"icn-error";default:return"icn-info"}}t.__tag=new o;var a={timeout:5e3,toasterId:"simple",body:"simple-toast",bodyOutputType:"directive",tapToDismiss:!1,closeHtml:"<a>Dismiss</a>"},l=n.$on("citizenNet:toastEvent",function(n,t){_.isObject(t)?(t.directiveData.icon=i(t.directiveData.type),Array.isArray(t.directiveData.body)&&(t.directiveData.body=t.directiveData.body.join("<br />")),e.pop(_extends({},a,t))):e.pop(_extends({},a,{directiveData:{body:t}}))});t.$on("$destroy",function(){l()})}n.$inject=["$rootScope","toaster","$scope"];var e=function(){return{template:"\n      <div class='flex-box align-items-center'>\n        <div class=\"padding-right-20\">\n          <i ng-class=\"directiveData.icon || 'icn-info'\"></i>\n        </div>\n        <div class=\"padding-right-20 flex-1\">\n          <span ng-bind-html='directiveData.body'>{{directiveData.body}}</span>\n        </div>\n      </div>\n    "}},t=function(){return{template:"\n      <div class='flex-box align-items-center'>\n        <div class='padding-right-20'>\n          <i ng-class='directiveData.icon || \"icn-info\"'></i>\n        </div>\n        <div class='padding-right-20 flex-1'>\n          <span>{{directiveData.body}}</span>\n        </div>\n        <div class='btn-group'>\n          <span ng-repeat='action in directiveData.actions'>\n            <a class='btn btn-primary' ng-click='action.click()'>{{action.text}}</a>\n          </span>\n        </div>\n      </div>\n    "}},o=function(){return{template:'\n      <div class="flex-box align-items-center">\n        <div class="padding-right-40">\n          <span class="label">{{directiveData.selected.length}}</span>\n          {{directiveData.type}} Selected\n        </div>\n        <div class="padding-right-20 flex-5 btn-group">\n          <span ng-repeat="action in directiveData.actions">\n            <a\n              class="btn btn-default margin-right-10"\n              ng-click="action.click()"\n              ng-disabled="action.disabled && action.disabled()"\n            >{{action.text}}</a>\n            <i class="fa fa-question"\n               style="color:lightgrey; cursor:pointer;padding:5px;"\n               ng-if="action.tooltip && action.disabled && action.disabled()"\n               tooltip="{{action.tooltip}}"\n            ></i>\n          </span>\n          <span>\n            <a class="btn btn-transparent" ng-click="directiveData.deselect()">Deselect All</a>\n          </span>\n        </div>\n      </div>\n    '}};angular.module("cn.ui").controller("toastController",n).directive("simpleToast",e).directive("actionToast",t).directive("listToast",o)}(),function(){angular.module("cn.ui").directive("cnToggleSwitch",function(){return{restrict:"E",replace:!0,template:'\n            <div class="cn-toggle"\n                  ng-class="currentCssState()"\n                  ng-click="toggle($event)">\n              <i class="icn-toggle"\n                  ng-class="currentCssState()"></i>\n            </div>\n          ',require:"^ngModel",scope:{ngModel:"=",onValue:"=?",offValue:"=?",undefinedClass:"=?",readOnly:"=",required:"=",onChange:"&"},link:function(n,e,t,o){function i(){}n.__tag=new i,n.onValue=!!_.isUndefined(n.onValue)||n.onValue,n.offValue=!_.isUndefined(n.offValue)&&n.offValue,n.undefinedClass=n.undefinedClass||"schrodinger",n.currentCssState=function(){var e=[];return n.readOnly&&e.push("readonly"),n.ngModel==n.onValue||(n.ngModel==n.offValue?e.push("disabled"):e.push(n.undefinedClass)),e.join(" ")},n.toggle=function(e){e.preventDefault(),e.stopImmediatePropagation(),n.ngModel==n.onValue?n.ngModel=n.offValue:n.ngModel=n.onValue,o.$setDirty(),n.onChange&&n.onChange()},n.$watch("ngModel",function(e,t){o.$setValidity("schemaForm",!0),o.$setValidity("tv4-302",!n.required||!angular.isUndefined(e))})}}})}(),function(){angular.module("cn.ui").directive("truncate",function(){return{restrict:"AE",scope:{text:"=truncateText",size:"=truncateSize",show:"@truncateShow"},link:function(n,e){function t(){}function o(){e.text(r?i:l),r=!r,a?(s.show(),s.text(r?"Show more":"Show less")):s.hide()}n.__tag=new t,n.$on("$destroy",function(){n.show&&e.off(n.show,o)});var i=n.text||"",a=i.length>n.size,l=a?i.substr(0,n.size)+"…":i,r=!1,s=angular.element('<a class="truncate-expand-toggle"></a>');s.on("click",o),e.after(s),o(),n.show&&e.on(n.show,o)}}})}(),function(){function n(){function n(n,e,t,o){function i(){e.on("input",a)}function a(n){n.target.value.length<5||n.target.value.startsWith("http")||(n.target.value="https://"+n.target.value)}o&&(n.$on("$destroy",function(){e.off("input",a)}),i())}return{require:"?ngModel",link:n}}angular.module("cn.ui").directive("cnUrlFormat",n)}();
//# sourceMappingURL=cn-ui.min.js.map
